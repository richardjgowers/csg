foreach(PROG csg_map csg_dump csg_property csg_resample csg_stat csg_fmatch csg_imcrepack csg_gmxtopol csg_part_dist csg_density)
  file(GLOB ${PROG}_SOURCES ${PROG}*.cc)
  add_executable(${PROG} ${${PROG}_SOURCES})
  target_link_libraries(${PROG} votca_csg)
  install(TARGETS ${PROG} RUNTIME DESTINATION bin)
  if (TXT2TAGS_FOUND)
    add_custom_command(OUTPUT ${PROG}.help COMMAND ${PROG} --help > ${PROG}.help DEPENDS ${PROG})
    add_custom_command(OUTPUT ${PROG}.t2t COMMAND ${CMAKE_BINARY_DIR}/scripts/help2t2t ${PROG}.help > ${PROG}.t2t DEPENDS ${PROG}.help)
    add_custom_command(OUTPUT ${PROG}.man COMMAND ${TXT2TAGS_EXECUTABLE} -q -t man -i ${PROG}.t2t -o ${PROG}.man DEPENDS ${PROG}.t2t)
    add_custom_target(manpage_${PROG} ALL DEPENDS ${PROG}.man)
    install(FILES ${CMAKE_CURRENT_BINARY_DIR}/${PROG}.man DESTINATION ${MAN}/man1)
  endif(TXT2TAGS_FOUND)
endforeach(PROG)
